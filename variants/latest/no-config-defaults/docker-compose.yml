services:
  erpc:
    image: ghcr.io/erpc/erpc:latest
    ports:
      - "4000:4000"  # HTTP API port
      - "4001:4001"  # Metrics port
    restart: unless-stopped
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:4000/healthcheck"]
      interval: 10s
      timeout: 5s
      retries: 3
      start_period: 5s
    # No volume mount needed since we're using defaults
    networks:
      - erpc_network

networks:
  erpc_network:
    driver: bridge